import{jsx as a,jsxs as t}from"react/jsx-runtime";import*as i from"react";import e from"classnames";import{DropdownMenu as n,DropdownItemGroup as r,DropdownItem as o}from"../Dropdown/Dropdown.js";import{s as c}from"../../style-inject.es-1f59c1d0.js";import{translation as s}from"../../utils/i18n/index.js";import"../../fa_icons-aa14317c.js";import{CONTAINER_SIZE as l}from"../../constants/containerSize.js";import"@atlaskit/dropdown-menu";import"../../utils/i18n/loadLanguages.js";import"../../types/enum.js";c('@import url("https://fonts.googleapis.com/css?family=Roboto:400,500&display=swap");.tab-navigation,.tab-navigation--vertical{background-color:#fff;font-family:Roboto,sans-serif;height:60px;margin:0 0 30px}.tab-navigation--vertical>.wrapper,.tab-navigation>.wrapper{display:flex;padding:0 15px}.tab-navigation--full>.wrapper,.tab-navigation--large>.wrapper,.tab-navigation--small>.wrapper{margin:0 auto;padding:0 30px}.tab-navigation--full>.wrapper.no-padding,.tab-navigation--large>.wrapper.no-padding,.tab-navigation--small>.wrapper.no-padding{padding:0}.tab-navigation--large>.wrapper{max-width:1024px}.tab-navigation--small>.wrapper{max-width:768px}.tab-navigation--full>.wrapper{max-width:100%}.tab-navigation .tab-item,.tab-navigation--vertical .tab-item{color:#687792;cursor:pointer;font-size:16px;padding:19px 15px 15px;white-space:nowrap}.tab-navigation .tab-item.tab-active,.tab-navigation--vertical .tab-item.tab-active{border-bottom:3.75px solid #0b6cff;color:#232831}.tab-navigation .tab-item .icon-chevron-down,.tab-navigation--vertical .tab-item .icon-chevron-down{margin-left:4px}.tab-navigation--vertical{border-radius:4px;flex-direction:column;height:100%;justify-content:center;padding:0}.tab-navigation--vertical .wrapper{display:block;padding:0}.tab-navigation--vertical .tab-item{border-bottom:1px solid #e1e4e9}.tab-navigation--vertical .tab-item.tab-active{border-bottom:1px solid #e1e4e9;border-left:5px solid #0b6cff;color:#0b6cff}');const d=({isVertical:c,isChangeRoute:d=!0,containerSize:p="FULLWIDTH",noPadding:g=!1,config:m,moreDataQa:b=null,changePageKey:v,changePage:f})=>{const[u,h]=i.useState(m),[w,x]=i.useState([]),[j,y]=i.useState([]),[L,N]=i.useState(m.length),[R,S]=i.useState(0),E=i.useRef(null),Q=i.useRef(null),k=()=>{if(E.current){const{clientWidth:a}=E.current;S(a)}},q=(a,t)=>{a?f&&f(t):v&&v(t)},z=(a=L)=>{setTimeout((()=>{const t=[...m],i=t.findIndex((a=>a.isActive));if(i>=a&&a>0){const e=t[i];t.splice(i,1),t.splice(a-1,0,e)}if(h(t.slice(0,a)),x(t.slice(a)),E.current&&Q.current){const t=E.current.getBoundingClientRect().right;Q.current.getBoundingClientRect().right>t&&z(a-1)}}),10)};i.useEffect((()=>{if(!c)return(()=>{const a=setInterval((()=>{if(E.current){const{clientWidth:t}=E.current;S(t),t&&clearInterval(a)}}),100)})(),window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)}),[]),i.useEffect((()=>{c?h(m):z()}),[m]),i.useEffect((()=>{if(!c&&(R&&!j.length&&(()=>{if(E.current&&!c){const a=Array.from(E.current.children),t=[];a.forEach(((a,i)=>{const e=i?t[i-1]:0,n=a.clientWidth+e;t.push(n)})),y(t)}})(),j.length)){const a=j.filter((a=>a+100<R)).length;N(a),z(a)}}),[R,j]);const A=u.map((t=>a("div",{className:e("tab-item",{"tab-active":t.isActive}),onClick:()=>q(d,t.url),"data-qa-id":t.dataQa,"data-qa-props":t.dataQaProps,id:t.id,children:t.tabName},t.url)));return a("div",{className:e(c?"tab-navigation--vertical":"tab-navigation",p===l.SMALL&&"tab-navigation--small",p===l.LARGE&&"tab-navigation--large",p===l.FULLWIDTH&&"tab-navigation--full"),children:t("div",{className:e("wrapper",{"no-padding":g}),ref:E,children:[A,!!w.length&&a("div",{className:"tab-item",ref:Q,"data-qa-id":b,children:a(n,{position:"bottom right",trigger:t("span",{className:"d-flex align-items-center",children:[s("common.more"),a("i",{className:"icon-chevron-down"})]}),children:a(r,{children:w.map(((t,i)=>{const e=a(o,{onClick:()=>q(d,t.url),children:t.tabName},`${t.tabName}-${i}`);return t.dataQa?a("div",{"data-qa-id":t.dataQa,"data-qa-props":t.dataQaProps,children:e}):e}))})})})]})})};export{d as NavigationTab};
