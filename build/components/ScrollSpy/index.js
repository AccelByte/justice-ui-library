import{jsx as e}from"react/jsx-runtime";import*as t from"react";import{c as o}from"../../index-6ea95111.js";import{debounce as s}from"../../utils/common.js";import{s as i}from"../../style-inject.es-1f59c1d0.js";i('@import url("https://fonts.googleapis.com/css?family=Roboto:400,500&display=swap");.scrollSpyContainer{background-color:#fff;border-radius:4px;box-shadow:0 1px 2px rgba(0,0,0,.25);display:block;height:fit-content;list-style-type:none;padding:8px;position:sticky;top:0;width:240px}.scrollSpyContainer li{align-items:center;border-radius:4px;display:flex;font-family:Roboto,sans-serif;height:40px;padding:0 24px}.scrollSpyContainer li.active,.scrollSpyContainer li:hover{background-color:#eff5ff;color:#0b6cff;cursor:pointer;font-weight:500}');class n extends t.Component{constructor(e){super(e),this.state={activeSessionId:null}}componentDidMount(){this.setActiveSection(),window.addEventListener("scroll",this.debounceSetActiveSession)}componentWillUnmount(){window.removeEventListener("scroll",this.debounceSetActiveSession)}getElements=()=>{const{items:e}=this.props;return e.map((e=>document.getElementById(e.elementId))).filter(Boolean)};setActiveSection=()=>{const{items:e,offset:t}=this.props;if(e.length<=0)return;let o=this.props.items[0].elementId;const s=t||100;for(let t=0;t<e.length;t++){const e=this.getElements()[t];if(!e)return;window.pageYOffset+s>e.offsetTop&&(o=e.id)}this.setState({activeSessionId:o})};debounceSetActiveSession=s(this.setActiveSection,100);scrollTo=e=>{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})};render(){const{className:t}=this.props,{activeSessionId:s}=this.state;return e("ul",{className:o("scrollSpyContainer",t),children:this.props.items.map(((t,i)=>e("li",{className:o({active:s===t.elementId}),onClick:()=>this.scrollTo(t.elementId),"data-qa-id":t.dataQa,children:t.text},`${t.elementId}-${i}`)))})}}export{n as ScrollSpy};
