import{jsxs as o,jsx as t}from"react/jsx-runtime";import*as e from"react";import n from"react";import{c as r}from"../../index-6ea95111.js";import{s as i}from"../../style-inject.es-1f59c1d0.js";import{Icon as c}from"../Icon/index.js";import"../../fa_icons-a7b55cc8.js";var a={},l=function(){var o=document.getSelection();if(!o.rangeCount)return function(){};for(var t=document.activeElement,e=[],n=0;n<o.rangeCount;n++)e.push(o.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return o.removeAllRanges(),function(){"Caret"===o.type&&o.removeAllRanges(),o.rangeCount||e.forEach((function(t){o.addRange(t)})),t&&t.focus()}},p={"text/plain":"Text","text/html":"Url",default:"Text"};var s=function(o,t){var e,n,r,i,c,a,s=!1;t||(t={}),e=t.debug||!1;try{if(r=l(),i=document.createRange(),c=document.getSelection(),(a=document.createElement("span")).textContent=o,a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",(function(n){if(n.stopPropagation(),t.format)if(n.preventDefault(),void 0===n.clipboardData){e&&console.warn("unable to use e.clipboardData"),e&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var r=p[t.format]||p.default;window.clipboardData.setData(r,o)}else n.clipboardData.clearData(),n.clipboardData.setData(t.format,o);t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))})),document.body.appendChild(a),i.selectNodeContents(a),c.addRange(i),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");s=!0}catch(r){e&&console.error("unable to copy using execCommand: ",r),e&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",o),t.onCopy&&t.onCopy(window.clipboardData),s=!0}catch(r){e&&console.error("unable to copy using clipboardData: ",r),e&&console.error("falling back to prompt"),n=function(o){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return o.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(n,o)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(i):c.removeAllRanges()),a&&document.body.removeChild(a),r()}return s};Object.defineProperty(a,"__esModule",{value:!0}),a.CopyToClipboard=void 0;var u=d(n),m=d(s);function d(o){return o&&o.__esModule?o:{default:o}}function f(o){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},f(o)}function y(o,t){var e=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.push.apply(e,n)}return e}function b(o,t){if(null==o)return{};var e,n,r=function(o,t){if(null==o)return{};var e,n,r={},i=Object.keys(o);for(n=0;n<i.length;n++)e=i[n],t.indexOf(e)>=0||(r[e]=o[e]);return r}(o,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(o);for(n=0;n<i.length;n++)e=i[n],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(o,e)&&(r[e]=o[e])}return r}function h(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}function g(o,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}function v(o,t){return!t||"object"!==f(t)&&"function"!=typeof t?x(o):t}function w(o){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},w(o)}function x(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function C(o,t){return C=Object.setPrototypeOf||function(o,t){return o.__proto__=t,o},C(o,t)}function O(o,t,e){return t in o?Object.defineProperty(o,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[t]=e,o}var j=function(o){function t(){var o,e;h(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return O(x(e=v(this,(o=w(t)).call.apply(o,[this].concat(r)))),"onClick",(function(o){var t=e.props,n=t.text,r=t.onCopy,i=t.children,c=t.options,a=u.default.Children.only(i),l=(0,m.default)(n,c);r&&r(n,l),a&&a.props&&"function"==typeof a.props.onClick&&a.props.onClick(o)})),e}var e,n,r;return function(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),t&&C(o,t)}(t,u["default"].PureComponent),e=t,n=[{key:"render",value:function(){var o=this.props;o.text,o.onCopy,o.options;var t=o.children,e=b(o,["text","onCopy","options","children"]),n=u.default.Children.only(t);return u.default.cloneElement(n,function(o){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?y(e,!0).forEach((function(t){O(o,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(e)):y(e).forEach((function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(e,t))}))}return o}({},e,{onClick:this.onClick}))}}],n&&g(e.prototype,n),r&&g(e,r),t}();a.CopyToClipboard=j,O(j,"defaultProps",{onCopy:void 0,options:void 0});var D=a.CopyToClipboard;D.CopyToClipboard=D;var P=D;i('@import url("https://fonts.googleapis.com/css?family=Roboto:400,500&display=swap");.common-tooltip{cursor:pointer;font-family:Roboto,sans-serif;position:relative}.common-tooltip .common-tooltip-children{box-sizing:border-box;display:block;max-width:121px;overflow:hidden;padding-right:16px;position:relative;text-overflow:ellipsis;white-space:nowrap}.common-tooltip .common-tooltip-children.no-clipboard{padding-right:0}.common-tooltip .common-tooltip-children.medium{max-width:100px}.common-tooltip .common-tooltip-children.narrow{max-width:60px}.common-tooltip .common-tooltip-children .icon{color:#0b6cff;vertical-align:baseline}.common-tooltip .common-tooltip-children .clipboard{display:none;position:absolute;right:0}.common-tooltip .common-tooltip-content{background-color:#232831;border-radius:4px;bottom:150%;color:#fff;cursor:default;display:none;font-size:14px;left:0;padding:5px 10px;position:absolute;transform:translateX(-32%);white-space:pre}.common-tooltip .common-tooltip-content.position-right{transform:translateX(-8%)}.common-tooltip .common-tooltip-content:after{border-color:#232831 transparent transparent;border-style:solid;border-width:7px 5px 0;content:"";height:0;left:50%;position:absolute;top:98%;transform:translateX(-50%);width:0}.common-tooltip .common-tooltip-content.tooltip-boxed{white-space:normal;width:200px}.common-tooltip .common-tooltip-content-hidden{display:none!important}.common-tooltip:hover .common-tooltip-content{display:block}.common-tooltip:hover .common-tooltip-children .clipboard{display:inline-block}');const E=({content:n="",children:i,noClipboard:a=!1,positionRight:l=!1,narrow:p=!1,medium:s=!1,isBoxed:u=!1,isTooltipShownOnOverflowOnly:m=!1,onCopySuccess:d})=>{const f=e.useRef(null),y=e.useRef(null);return e.useEffect((()=>{const o=()=>{if(!m||!y.current||!f.current)return;f.current.scrollWidth>f.current.clientWidth?y.current.classList.remove("common-tooltip-content-hidden"):y.current.classList.add("common-tooltip-content-hidden")};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)}),[n,i,m]),o("div",{className:"common-tooltip",children:[t("span",{ref:y,className:r("common-tooltip-content",{"position-right":l,"tooltip-boxed":u}),children:n}),o("span",{ref:f,className:r("common-tooltip-children",{narrow:p,medium:s,"no-clipboard":a}),children:[i||n,!a&&t("span",{className:"clipboard",children:t(P.CopyToClipboard,{text:n,onCopy:d,children:t(c,{name:"icon fa-icon-clipboard"})})})]})]})};export{E as Tooltip};
