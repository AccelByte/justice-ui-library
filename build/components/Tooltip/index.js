import{jsxs as t,jsx as o}from"react/jsx-runtime";import*as e from"react";import n from"react";import{c as r}from"../../index-6ea95111.js";import{s as i}from"../../style-inject.es-1f59c1d0.js";import{Icon as c}from"../Icon/index.js";import"../../fa_icons-e535ff8d.js";import{Enum as l}from"../../types/enum.js";var a={},p=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var o=document.activeElement,e=[],n=0;n<t.rangeCount;n++)e.push(t.getRangeAt(n));switch(o.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":o.blur();break;default:o=null}return t.removeAllRanges(),function(){"Caret"===t.type&&t.removeAllRanges(),t.rangeCount||e.forEach((function(o){t.addRange(o)})),o&&o.focus()}},s={"text/plain":"Text","text/html":"Url",default:"Text"};var m=function(t,o){var e,n,r,i,c,l,a=!1;o||(o={}),e=o.debug||!1;try{if(r=p(),i=document.createRange(),c=document.getSelection(),(l=document.createElement("span")).textContent=t,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(n){if(n.stopPropagation(),o.format)if(n.preventDefault(),void 0===n.clipboardData){e&&console.warn("unable to use e.clipboardData"),e&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var r=s[o.format]||s.default;window.clipboardData.setData(r,t)}else n.clipboardData.clearData(),n.clipboardData.setData(o.format,t);o.onCopy&&(n.preventDefault(),o.onCopy(n.clipboardData))})),document.body.appendChild(l),i.selectNodeContents(l),c.addRange(i),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");a=!0}catch(r){e&&console.error("unable to copy using execCommand: ",r),e&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(o.format||"text",t),o.onCopy&&o.onCopy(window.clipboardData),a=!0}catch(r){e&&console.error("unable to copy using clipboardData: ",r),e&&console.error("falling back to prompt"),n=function(t){var o=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,o)}("message"in o?o.message:"Copy to clipboard: #{key}, Enter"),window.prompt(n,t)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(i):c.removeAllRanges()),l&&document.body.removeChild(l),r()}return a};Object.defineProperty(a,"__esModule",{value:!0}),a.CopyToClipboard=void 0;var u=d(n),f=d(m);function d(t){return t&&t.__esModule?t:{default:t}}function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function b(t,o){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);o&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),e.push.apply(e,n)}return e}function h(t,o){if(null==t)return{};var e,n,r=function(t,o){if(null==t)return{};var e,n,r={},i=Object.keys(t);for(n=0;n<i.length;n++)e=i[n],o.indexOf(e)>=0||(r[e]=t[e]);return r}(t,o);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)e=i[n],o.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(r[e]=t[e])}return r}function g(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function w(t,o){for(var e=0;e<o.length;e++){var n=o[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function v(t,o){return!o||"object"!==y(o)&&"function"!=typeof o?C(t):o}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}function C(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t,o){return O=Object.setPrototypeOf||function(t,o){return t.__proto__=o,t},O(t,o)}function j(t,o,e){return o in t?Object.defineProperty(t,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[o]=e,t}var P=function(t){function o(){var t,e;g(this,o);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return j(C(e=v(this,(t=x(o)).call.apply(t,[this].concat(r)))),"onClick",(function(t){var o=e.props,n=o.text,r=o.onCopy,i=o.children,c=o.options,l=u.default.Children.only(i),a=(0,f.default)(n,c);r&&r(n,a),l&&l.props&&"function"==typeof l.props.onClick&&l.props.onClick(t)})),e}var e,n,r;return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(o&&o.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),o&&O(t,o)}(o,u["default"].PureComponent),e=o,n=[{key:"render",value:function(){var t=this.props;t.text,t.onCopy,t.options;var o=t.children,e=h(t,["text","onCopy","options","children"]),n=u.default.Children.only(o);return u.default.cloneElement(n,function(t){for(var o=1;o<arguments.length;o++){var e=null!=arguments[o]?arguments[o]:{};o%2?b(e,!0).forEach((function(o){j(t,o,e[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):b(e).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(e,o))}))}return t}({},e,{onClick:this.onClick}))}}],n&&w(e.prototype,n),r&&w(e,r),o}();a.CopyToClipboard=P,j(P,"defaultProps",{onCopy:void 0,options:void 0});var D=a.CopyToClipboard;D.CopyToClipboard=D;var E=D;i('@import url("https://fonts.googleapis.com/css?family=Roboto:400,500&display=swap");.common-tooltip{cursor:pointer;font-family:Roboto,sans-serif;position:relative;width:fit-content}.common-tooltip .common-tooltip-children{box-sizing:border-box;display:block;max-width:121px;overflow:hidden;padding-right:16px;position:relative;text-overflow:ellipsis;white-space:nowrap;width:fit-content}.common-tooltip .common-tooltip-children.no-clipboard{padding-right:0}.common-tooltip .common-tooltip-children.medium{max-width:100px}.common-tooltip .common-tooltip-children.narrow{max-width:60px}.common-tooltip .common-tooltip-children .icon{color:#0b6cff;vertical-align:baseline}.common-tooltip .common-tooltip-children .clipboard{display:none;position:absolute;right:0}.common-tooltip .common-tooltip-content{background-color:#232831;border-radius:4px;bottom:150%;color:#fff;cursor:default;display:none;font-size:14px;height:fit-content;left:0;padding:5px 10px;position:absolute;transform:translateX(-32%);white-space:pre;width:fit-content}.common-tooltip .common-tooltip-content.position-right{transform:translateX(-8%)}.common-tooltip .common-tooltip-content:after{border-style:solid;content:"";height:0;position:absolute;transform:translateX(-50%);width:0}.common-tooltip .common-tooltip-content.top:after{border-color:#232831 transparent transparent;border-width:7px 5px 0;left:50%;top:98%}.common-tooltip .common-tooltip-content.right{left:100%;top:5%}.common-tooltip .common-tooltip-content.right:after{border-color:transparent #232831 transparent transparent;border-width:5px 7px 5px 0;left:-3px;top:35%}.common-tooltip .common-tooltip-content.with-clipboard.right{transform:translateX(20px)}.common-tooltip .common-tooltip-content.tooltip-boxed{white-space:normal;width:200px}.common-tooltip .common-tooltip-content-hidden{display:none!important}.common-tooltip .common-tooltip-content.fixed{position:fixed}.common-tooltip:hover .common-tooltip-content{display:block}.common-tooltip:hover .common-tooltip-children .clipboard{display:inline-block}');const k=l("top","right"),S=({content:n="",children:i,noClipboard:l=!1,positionRight:a=!1,narrow:p=!1,medium:s=!1,isBoxed:m=!1,isTooltipShownOnOverflowOnly:u=!1,onCopySuccess:f,isPositionFixed:d=!1,position:y=k.top})=>{const b=e.useRef(null),h=e.useRef(null);return e.useEffect((()=>{const t=()=>{if(!u||!h.current||!b.current)return;b.current.scrollWidth>b.current.clientWidth?h.current.classList.remove("common-tooltip-content-hidden"):h.current.classList.add("common-tooltip-content-hidden")};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[n,i,u]),e.useEffect((()=>{h.current&&(h.current.style.top="",h.current.style.left="")}),[d]),t("div",{className:"common-tooltip",children:[o("span",{ref:h,className:r("common-tooltip-content",{top:y===k.top,right:y===k.right,fixed:d,"with-clipboard":!l,"position-right":a,"tooltip-boxed":m}),children:n}),t("span",{ref:b,className:r("common-tooltip-children",{narrow:p,medium:s,"no-clipboard":l}),onMouseOver:()=>{d&&(()=>{if(!h.current||!b.current)return;const t=b.current,o=h.current,e=t.getBoundingClientRect(),n=o.getBoundingClientRect();switch(y){case k.top:h.current.style.top=e.top-e.height-n.height/2+"px",h.current.style.left=`${e.left}px`;break;case k.right:h.current.style.top=e.top-e.height/2+"px",h.current.style.left=`${e.left+e.width+n.width/2}px`}})()},children:[i||n,!l&&o("span",{className:"clipboard",children:o(E.CopyToClipboard,{text:n,onCopy:f,children:o(c,{name:"icon icon-clipboard"})})})]})]})};export{k as TOOLTIP_POSITION,S as Tooltip};
