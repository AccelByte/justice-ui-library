import{jsxs as t,jsx as i}from"react/jsx-runtime";import*as a from"react";import{s as n}from"../../style-inject.es-1f59c1d0.js";import e from"classnames";import{FieldLabel as d,FieldErrorMessage as l}from"../Form/utility/FormUtility.js";import{Button as o}from"../Button/Button.js";import{Input as r}from"./ValidFieldText.js";import{translation as s}from"../../utils/i18n/index.js";import"../../fa_icons-aa14317c.js";import{ButtonWithIcon as p}from"../ButtonWithIcon/ButtonWithIcon.js";import"react-tooltip";import"../../server-d796a789.js";import"../../index-dd80248b.js";import"stream";import"dompurify";import"../../constants/common.js";import"../../utils/typography.js";import"../../utils/i18n/loadLanguages.js";import"@atlaskit/button";import"@atlaskit/field-text";import"../InlinePopover/InlinePopover.js";import"@atlaskit/inline-dialog";import"../../types/enum.js";import"../../utils/input.js";n('@import url("https://fonts.googleapis.com/css?family=Roboto:400,500&display=swap");.valid-dynamic-text .field-label{font-size:14px;padding-bottom:4px}.valid-dynamic-text__input{display:flex;flex-direction:column}.valid-dynamic-text__input label{display:none}.valid-dynamic-text__input__field{align-items:center;display:flex;flex-direction:row}.valid-dynamic-text__input__field:hover{background-color:transparent!important}.valid-dynamic-text__input__field:not(:last-child){margin-bottom:16px}.valid-dynamic-text__input__field [class|=Content__ChildWrapper]>[class|=Content]{border:1px solid #b8bfcd}.valid-dynamic-text__input__field [class|=Content__ChildWrapper]>[class|=Content]:hover{border-color:#687792}.valid-dynamic-text__input__field--focused [class|=Content__ChildWrapper]>[class|=Content]{border:2px solid #0b6cff}.valid-dynamic-text__input__field--focused [class|=Content__ChildWrapper]>[class|=Content]:hover{border-color:#0b6cff}.valid-dynamic-text__input__field>div{width:100%}.valid-dynamic-text__input__field button{color:#4c576b!important;width:40px}.valid-dynamic-text__input__field button:hover{text-decoration:none}.valid-dynamic-text__input__field button.delete-button>span>span{display:inline-block;margin-right:0!important;overflow:unset!important}.valid-dynamic-text__input__field input{font-family:Roboto,sans-serif;font-size:16px}.valid-dynamic-text__input__field input::placeholder{color:#b8bfcd}.valid-dynamic-text__input__add-btn{align-items:center;background-color:#f5f6f8!important;border-radius:4px;display:flex;height:40px;justify-content:center;width:100%}.valid-dynamic-text__input__add-btn.shrink{width:calc(100% - 40px)}.valid-dynamic-text__input__add-btn button{justify-content:center;width:100%}.valid-dynamic-text__input__add-btn button:hover{text-decoration:none}.valid-dynamic-text__input__add-btn button:disabled span{color:#b8bfcd}.valid-dynamic-text__input__add-btn button span{color:#0b6cff}');const c=({placeholder:n,name:c,values:_,onChange:m,isDisabled:u=!1,type:f="text",label:x,errMessage:b,maxField:y,addText:v=s("common.add"),dataQa:h=null,addDataQa:g=null,inputDataQa:j=null,deleteDataQa:C=null,dataQaProps:k=null})=>{const[w,q]=a.useState(null),$=(t,a)=>{const e=i(r,{isLabelHidden:!0,placeholder:n,name:c,value:t,onChange:t=>((t,i)=>{const{value:a}=t.currentTarget;_[i]=a,m(_)})(t,a),disabled:u,shouldFitContainer:!0,type:f,onFocus:()=>q(a),onBlur:()=>q(null)});return j?i("div",{"data-qa-id":j,"data-qa-props":k?`${k}_${a}`:null,children:e}):e},F=t=>{const a=i(o,{onClick:()=>(t=>{m([..._.filter(((i,a)=>a!==t))])})(t),appearance:"link",className:"delete-button",children:i("span",{className:"icon icon-trash"})});return C?i("span",{"data-qa-id":C,"data-qa-props":k?`${k}_${t}`:null,children:a}):a};return t("div",{className:"valid-dynamic-text",children:[i(d,{label:x}),t("div",{className:"valid-dynamic-text__input","data-qa-id":h,children:[_.map(((i,a)=>t("div",{className:e("valid-dynamic-text__input__field",{"valid-dynamic-text__input__field--focused":w===a,"valid-dynamic-text__input__field--disabled":u}),children:[$(i,a),_.length>1&&!u&&F(a)]},a))),!!b&&i(l,{message:b}),!u&&i("div",{className:e("valid-dynamic-text__input__add-btn",{shrink:_.length>1}),hidden:u,"data-qa-id":g,"data-qa-props":k,children:i(p,{buttonIcon:"icon-plus",onClick:()=>{m([..._,""])},appearance:"link",isDisabled:_.length>=y,children:`${v} (${_.length}/${y})`})})]})]})};export{c as ValidDynamicText};
