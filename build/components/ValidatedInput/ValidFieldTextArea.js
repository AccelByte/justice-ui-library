import{jsxs as e,jsx as t}from"react/jsx-runtime";import n,{useContext as r,useRef as i,useEffect as a,Component as o,useCallback as s,useMemo as c,forwardRef as l}from"react";import{c as u}from"../../index-6ea95111.js";import{_ as d,a as f,b as p,c as m,e as h,d as y}from"../../inherits-d3723d19.js";import{_ as v,a as b}from"../../setPrototypeOf-c6ba02e6.js";import g,{css as x}from"styled-components";import{_ as j}from"../../objectWithoutPropertiesLoose-982ef579.js";import{_ as O}from"../../objectWithoutProperties-90b89624.js";import{_ as A,a as C}from"../../get-ae46b391.js";import{P as E}from"../../index-d0edc839.js";import{A as k}from"../../context-f854a00e.js";import{u as w}from"../../use-memo-one.esm-19c0a4a5.js";import{L as R,F as P}from"../../Label-e62580a5.js";import{s as _}from"../../style-inject.es-1f59c1d0.js";import{FieldLabel as F,FieldCounter as N,FieldErrorMessage as S,FieldHelperText as T}from"../Form/utility/index.js";import"../../unsupportedIterableToArray-0ca076cc.js";import"../../index-dd80248b.js";import"../../_commonjsHelpers-6e998e78.js";import"../../core.esm-a8712816.js";import"../../inheritsLoose-6fd5c6e3.js";import"../../unitless.esm-d94354fa.js";import"../../index-6f6eab52.js";import"../../noop-2d37c277.js";import"../../slicedToArray-a622878d.js";import"../../nonIterableRest-e93b6547.js";import"../../index-72b69d08.js";import"../../index.es-62933797.js";import"../../server-d796a789.js";import"stream";import"../../utils/i18n/index.js";import"../../utils/i18n/loadLanguages.js";import"../../fa_icons-aa14317c.js";import"../../purify.es-49746c08.js";import"../../constants/common.js";import"../../utils/typography.js";function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=function(){function e(t){var n=this;p(this,e),v(this,"_isAnalyticsEvent",!0),v(this,"clone",(function(){return new e({payload:M({},n.payload)})})),this.payload=t.payload}return d(e,[{key:"update",value:function(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"===f(e)&&(this.payload=M(M({},this.payload),e)),this}}]),e}();function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}var D=function(e){m(n,z);var t=L(n);function n(e){var r;return p(this,n),r=t.call(this,e),v(b(r),"_isUIAnalyticsEvent",!0),v(b(r),"clone",(function(){return r.hasFired?null:new n({context:A(r.context),handlers:A(r.handlers),payload:JSON.parse(JSON.stringify(r.payload))})})),v(b(r),"fire",(function(e){r.hasFired||(r.handlers.forEach((function(t){return t(b(r),e)})),r.hasFired=!0)})),r.context=e.context||[],r.handlers=e.handlers||[],r.hasFired=!1,r}return d(n,[{key:"update",value:function(e){return this.hasFired?this:C(h(n.prototype),"update",this).call(this,e)}}]),n}(),I=function(){return r(k)};function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}var B={getAtlaskitAnalyticsContext:E.func,getAtlaskitAnalyticsEventHandlers:E.func},V=function(){return[]},q=function(e){m(r,o);var t=W(r);function r(e){var n;return p(this,r),n=t.call(this,e),v(b(n),"getChildContext",(function(){return{getAtlaskitAnalyticsContext:n.getAnalyticsContext}})),v(b(n),"getAnalyticsContext",(function(){var e=n.props.data,t=n.context.getAtlaskitAnalyticsContext;return[].concat(A((void 0===t?V:t)()),[e])})),v(b(n),"getAnalyticsEventHandlers",(function(){var e=n.context.getAtlaskitAnalyticsEventHandlers;return(void 0===e?V:e)()})),n.contextValue={getAtlaskitAnalyticsContext:n.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:n.getAnalyticsEventHandlers},n}return d(r,[{key:"render",value:function(){var e=this.props.children;return n.createElement(k.Provider,{value:this.contextValue},e)}}]),r}();v(q,"contextTypes",B),v(q,"childContextTypes",B);var U=q,J=function(e){var t=e.data,r=e.children,o=function(e){var t=i(e);return a((function(){t.current=e}),[e]),t}(t),l=I(),u=s((function(){return[].concat(A(l.getAtlaskitAnalyticsContext()),[o.current])}),[l,o]),d=c((function(){return{getAtlaskitAnalyticsContext:u,getAtlaskitAnalyticsEventHandlers:l.getAtlaskitAnalyticsEventHandlers}}),[l,u]);return n.createElement(k.Provider,{value:d},r)},K="undefined"!=typeof process&&process.env.ANALYTICS_NEXT_MODERN_CONTEXT?J:U;function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=function(e){return function(t){var r=l((function(r,i){var a=r.analyticsContext,o=O(r,["analyticsContext"]),s=c((function(){return Q(Q({},e),a)}),[a]);return n.createElement(K,{data:s},n.createElement(t,j({},o,{ref:i})))}));return r.displayName="WithAnalyticsContext(".concat(t.displayName||t.name,")"),r}};function G(){var e=I();return{createAnalyticsEvent:w((function(t){return new D({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=G(),r=n.createAnalyticsEvent,a=i({}),o=c((function(){var n=a.current;return Object.keys(n).filter((function(t){return!(t in e)})).forEach((function(e){return delete n[e]})),Object.keys(e).reduce((function(i,a){var o=e[a];if(!["object","function"].includes(f(o)))return i;var s=t[a];if(a in n&&n[a].eventCreator===o&&n[a].propValue===s)return $($({},i),{},v({},a,n[a].wrappedCallback));var c=function(){var e="function"==typeof o?o(r,t):r(o);if(s&&"function"==typeof s){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];s.apply(void 0,i.concat([e]))}};return n[a]={eventCreator:o,wrappedCallback:c,propValue:s},$($({},i),{},v({},a,c))}),{})}),[e,t,r,a]);return{patchedEventProps:o}}var te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var r=l((function(r,i){var a=ee(e,r).patchedEventProps,o=G().createAnalyticsEvent;return n.createElement(t,j({},r,a,{createAnalyticsEvent:o,ref:i}))}));return r.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),r}};function ne(e){if(e&&e.theme){if(ae in e.theme)return e.theme[ae];if("mode"in e.theme&&se.includes(e.theme.mode))return e.theme}return{mode:oe}}var re,ie=function(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=ne(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=ne(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}({light:"var(--ds-text-subtlest, ".concat("#7A869A",")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),ae="__ATLASKIT_THEME__",oe="light",se=["light","dark"],ce=function(){return 14},le=x(["\n  color: ",";\n"],ie),ue=g.textarea.withConfig({displayName:"TextArea",componentId:"l4fqfr-0"})(["\n  background: transparent;\n  padding: 0;\n  margin: 0;\n  border: 0;\n  box-sizing: border-box;\n  color: inherit;\n  cursor: inherit;\n  font-family: ",";\n  font-size: ","px;\n  line-height: ",";\n  min-width: 0;\n  outline: none;\n  width: 100%;\n\n  [disabled] {\n    ",";\n  }\n\n  "," ","\n\n  &::-ms-clear {\n    display: none;\n  }\n\n  &:invalid {\n    box-shadow: none;\n  }\n\n  ",";\n"],(function(e){return e.isMonospaced?"'SFMono-Medium', 'SF Mono', 'Segoe UI Mono', 'Roboto Mono', 'Ubuntu Mono', Menlo, Consolas, Courier, monospace":"inherit"}),ce,20/14,"\n  -webkit-text-fill-color: unset;\n  -webkit-opacity: 1;\n",(function(e){var t=e.minimumRows;return"min-height: ".concat(20*t,"px;")}),(function(e){var t=e.enableResize;return t?"horizontal"===t?"resize: horizontal;":"vertical"===t?"resize: vertical;":null:"resize: none;"}),x(["\n  &::-webkit-input-placeholder {\n    /* WebKit, Blink, Edge */\n    ",";\n  }\n  &::-moz-placeholder {\n    /* Mozilla Firefox 19+ */\n    "," opacity: 1;\n  }\n  &::-ms-input-placeholder {\n    /* Microsoft Edge */\n    ",";\n  }\n  &:-moz-placeholder {\n    /* Mozilla Firefox 4 to 18 */\n    "," opacity: 1;\n  }\n  &:-ms-input-placeholder {\n    /* Internet Explorer 10-11 */\n    ",";\n  }\n"],re=le,re,re,re,re));function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}var fe="@atlaskit/field-text-area",pe=g.div.withConfig({displayName:"FieldTextAreaStateless__Wrapper",componentId:"sc-159dr31-0"})(["\n  flex: 1 1 100%;\n"]),me=function(e){m(r,o);var t=de(r);function r(){var e;p(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),v(b(e),"input",void 0),e}return d(r,[{key:"focus",value:function(){this.input.focus()}},{key:"render",value:function(){var e=this,t=this.props,r=t.autoFocus,i=t.compact,a=t.disabled,o=t.id,s=t.invalidMessage,c=t.isInvalid,l=t.isLabelHidden,u=t.isMonospaced,d=t.isReadOnly,f=t.isSpellCheckEnabled,p=t.label,m=t.maxLength,h=t.minimumRows,y=t.name,v=t.onBlur,b=t.onChange,g=t.onFocus,x=t.placeholder,j=t.enableResize,O=t.required,A=t.shouldFitContainer,C=t.value,E=t.isValidationHidden;return n.createElement(pe,null,!l&&n.createElement(R,{htmlFor:o,isDisabled:a,isLabelHidden:l,isRequired:O,label:p}),n.createElement(P,{isCompact:i,isDisabled:a,isInvalid:c,isReadOnly:d,isRequired:O,invalidMessage:s,isFitContainerWidthEnabled:A,isValidationHidden:E},n.createElement(ue,{disabled:a,readOnly:d,name:y,placeholder:x,value:C,required:O,isMonospaced:u,minimumRows:h,enableResize:j,onBlur:v,onChange:b,onFocus:g,id:o,autoFocus:r,spellCheck:f,maxLength:m,innerRef:function(t){e.input=t}})))}}]),r}();v(me,"defaultProps",{compact:!1,disabled:!1,isReadOnly:!1,required:!1,isInvalid:!1,label:"",type:"text",isSpellCheckEnabled:!0,minimumRows:1,isValidationHidden:!1});var he,ye=(he="atlaskit",function(e){return function(t){var n=t(e),r=n.clone();return r&&r.fire(he),n}}),ve=Y({componentName:"fieldTextArea",packageName:fe,packageVersion:"8.0.7"})(te({onBlur:ye({action:"blurred",actionSubject:"textArea",attributes:{componentName:"fieldTextArea",packageName:fe,packageVersion:"8.0.7"}}),onFocus:ye({action:"focused",actionSubject:"textArea",attributes:{componentName:"fieldTextArea",packageName:fe,packageVersion:"8.0.7"}})})(me));_('@import url("https://fonts.googleapis.com/css?family=Roboto:400,500&display=swap");.valid-field-text-area{font-family:Roboto,sans-serif}.valid-field-text-area .field-label{font-size:14px;padding-bottom:4px}.valid-field-text-area [class|=Content__ChildWrapper]>[class|=Content]{border:1px solid #b8bfcd}.valid-field-text-area [class|=Content__ChildWrapper]>[class|=Content]>textarea{color:#232831;font-size:16px;min-height:100px}.valid-field-text-area [class|=Content__ChildWrapper]>[class|=Content]>textarea:disabled{color:#909bb0}.valid-field-text-area [class|=Content__ChildWrapper]>[class|=Content]>textarea::placeholder{color:#b8bfcd}.valid-field-text-area [class|=Content__ChildWrapper]>[class|=Content]:hover{border:1px solid #687792}.valid-field-text-area [class|=ValidationElement__WarningIcon]{display:none}.valid-field-text-area .focusedFieldText [class|=Content__ChildWrapper]>[class|=Content]{border:2px solid #0b6cff}.valid-field-text-area .fieldHeader{align-items:baseline;display:flex;justify-content:space-between}');const be=({label:r="",placeholder:i,value:a,errMessage:o,helperText:s,tooltip:c,shouldFitContainer:l=!0,isRequired:d=!0,isInvalid:f=!0,minimumRows:p,onBlur:m,maxLength:h,onChange:y,dataQa:v,optionalLabel:b,...g})=>{const[x,j]=n.useState(!1);return e("div",{className:"valid-field-text-area","data-qa-id":v,children:[e("div",{className:u("fieldHeader",{pushRight:!r&&!!h}),children:[r&&t(F,{label:r,optionalLabel:b,isRequired:d,tooltip:c}),!!h&&t(N,{value:a,maxLength:h})]}),t("div",{className:u("valid-field-text-area-container",{focusedFieldText:x}),children:t(ve,{onFocus:()=>{j(!0)},onBlur:e=>{j(!1),m&&m(e)},onChange:y,isLabelHidden:!0,value:a,shouldFitContainer:l,minimumRows:p,placeholder:i,...g})}),f&&o&&t(S,{message:o}),s&&t(T,{message:s})]})};export{be as ValidFieldTextArea};
